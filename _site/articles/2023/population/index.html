<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title> | Population growth</title>
  <meta name="description" content="Personal website.
">

  <link rel="shortcut icon" href="http://localhost:4000/assets/img/favicon.ico">

  <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
  <link rel="canonical" href="http://localhost:4000/articles/2023/population/">

  <!-- CSS -->
  <link rel="stylesheet" href="http://localhost:4000/css/style.css">

   </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    
    <span class="site-title">
        
        <strong></strong> 
    </span>
    

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

      <div class="trigger">
        <!-- About -->
        <a class="page-link" href="http://localhost:4000/">About</a>
	
	<!-- Ideas --> 
	<a class="page-link" href="http://localhost:4000/ideas/">Ideas</a>

        <!-- Articles -->
        <a class="page-link" href="http://localhost:4000/articles/">Articles</a>

	<!-- Projects --> 
	<a class="page-link" href="http://localhost:4000/projects/">Projects</a>

        <!-- Pages 
        
          
        
          
        
          
            <a class="page-link" href="http://localhost:4000/ideas/">Ideas</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <a class="page-link" href="http://localhost:4000/projects/">Projects</a>
          
        
          
        
          
        
          
        
          
        
	-->

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Population growth</h1>
    <p class="post-meta">June 23, 2023</p>
    <p class="post-meta"> Reading Time ~ 
  
  
    5 mins
  


</p>
  </header>

  <article class="post-content">
    <p>Recently I  came across the following quantitative question:</p>

<blockquote class="text-justify">
  <p>A mythical city contains \(100,000\) monogamously married couples but no children. Each family wishes to “continue the male line”, but they do not wish to overpopulate. So, each family has one baby per annum until the arrival of the first boy. For example, if (at some future date) a family has five children, then it must be either that they are all girls, and another child is planned, or that there are four girls and one boy, and no more children are planned. Assume that the children are equally likely to be born male or female. 
Let \(p(t)\) be the percentage of <strong>children</strong> that are male at the end of year \(t\).  How is this percentage expected to evolve through time?</p>
</blockquote>

<p class="text-justify">At this point, the ambitious reader should not avoid spoilers and take a few minutes to try to solve it without using a piece of paper for calculations (ideally). If you do any mathematics whatsoever, you probably are missing the point.</p>

<p>A few additional assumptions, if unclear:</p>

<ul>
  <li>Consider that no person in the city dies.</li>
  <li>The kids will not become parents themselves during the time horizon of the analysis.</li>
  <li>The marriages remain fixed.</li>
</ul>

<h2 id="naive-intuition">Naive Intuition</h2>

<h2 id="simulation">Simulation</h2>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span> 

<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># Repeat experiment multiple times
</span><span class="n">tries</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tries</span><span class="p">):</span>
  <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">seed</span><span class="p">()</span>
  <span class="n">available_couples</span> <span class="o">=</span> <span class="mi">100000</span> <span class="c1"># Couples who did not have a boy yet
</span>  <span class="n">male_cumulative</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Cumulative male children per year
</span>  <span class="n">female_cumulative</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Cumulative female children per year
</span>  <span class="n">ratio</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">]</span>
  <span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  
  <span class="c1"># Run growth simulation for a fixed time horizon
</span>  <span class="n">total_years</span> <span class="o">=</span> <span class="mi">30</span> 
  <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_years</span><span class="p">):</span>
    <span class="n">years</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">available_couples</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">male_children</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">female_children</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">male_children</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">available_couples</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
      <span class="n">female_children</span> <span class="o">=</span> <span class="n">available_couples</span> <span class="o">-</span> <span class="n">male_children</span> 
      <span class="n">available_couples</span> <span class="o">-=</span> <span class="n">male_children</span>

    <span class="n">male_cumulative</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">male_children</span> <span class="o">+</span> <span class="n">male_cumulative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">female_cumulative</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">female_children</span> <span class="o">+</span> <span class="n">female_cumulative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ratio</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">male_cumulative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="n">male_cumulative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">female_cumulative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

  <span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">years</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'g'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">years</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'years'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Male Children Ratio'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Expected Ratio over Time'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<center>
<div class="img_row" style="height: 500px;width: 900px">
    <img class="col three" src="/assets/img/population_growth_simulation.png" alt="" title="Turnstyle" />
</div>
</center>

<blockquote>
  <p>So, what went wrong?!</p>
</blockquote>

<h2 id="analysis">Analysis</h2>
<p>The key word in the problem statement is <strong>expected</strong>.</p>

<h2 id="references">References</h2>

<ul>
  <li>[TODO]</li>
</ul>

<h2 id="acknowledgment">Acknowledgment</h2>
<p>Thanks to Brigitte Castañeda and Aleksandra Galitsyna for the constructive feedback and hightling a few clarifications on the problem statement.</p>

  </article>

</div>

      </div>
    </div>

    <footer>

<div class="wrapper">
    &copy; Copyright 2023 .
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.
</div>

</footer>


    <!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Load Common JS -->
<script src="http://localhost:4000/assets/js/common.js"></script>


<!-- Load KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="http://localhost:4000/assets/js/katex.js"></script>




<!-- Include custom icon fonts -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/fontawesome-all.min.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.min.css">

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXXX', 'auto');
ga('send', 'pageview');
</script>


  </body>

</html>
